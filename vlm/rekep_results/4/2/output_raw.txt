# Explanation
The task "close the drawer" involves two stages:
  1. Grasp the drawer (keypoint 2)
  2. Move the drawer to the closed position

num_stages = 2

### Stage 1 sub-goal constraints
def stage1_subgoal_constraint1(end_effector, keypoints):
    """Align the end-effector with the drawer handle (keypoint 2)."""
    handle_position = keypoints[2]
    cost = np.linalg.norm(end_effector - handle_position)
    return cost

### Stage 1 path constraints
# No path constraints needed for grasping stage

### Stage 2 sub-goal constraints
def stage2_subgoal_constraint1(end_effector, keypoints):
    """Move the drawer to the closed position by aligning keypoint 2 to keypoint 1 (estimated closed position)."""
    closed_position = keypoints[1]
    handle_position = keypoints[2]
    cost = np.linalg.norm(handle_position - closed_position)
    return cost

### Stage 2 path constraints
def stage2_path_constraint1(end_effector, keypoints):
    """The robot must still be grasping the drawer handle (keypoint 2)."""
    return get_grasping_cost_by_keypoint_idx(2)

# Grasp keypoints summary
grasp_keypoints = [2, -1]

# Release keypoints summary
release_keypoints = [-1, 2]

```python
num_stages = 2

### Stage 1 sub-goal constraints
def stage1_subgoal_constraint1(end_effector, keypoints):
    """Align the end-effector with the drawer handle (keypoint 2)."""
    handle_position = keypoints[2]
    cost = np.linalg.norm(end_effector - handle_position)
    return cost

### Stage 1 path constraints

### Stage 2 sub-goal constraints
def stage2_subgoal_constraint1(end_effector, keypoints):
    """Move the drawer to the closed position by aligning keypoint 2 to keypoint 1 (estimated closed position)."""
    closed_position = keypoints[1]
    handle_position = keypoints[2]
    cost = np.linalg.norm(handle_position - closed_position)
    return cost

### Stage 2 path constraints
def stage2_path_constraint1(end_effector, keypoints):
    """The robot must still be grasping the drawer handle (keypoint 2)."""
    return get_grasping_cost_by_keypoint_idx(2)

# Summarize keypoints to be grasped in all grasping stages
grasp_keypoints = [2, -1]

# Summarize at the end of which stage the robot should release the keypoints
release_keypoints = [-1, 2]

```